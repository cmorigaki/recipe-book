apply plugin: "com.android.library"
apply plugin: 'kotlin-android'
apply plugin: 'kotlin-kapt'

android {
    compileSdkVersion AndroidConfig.compileSdk
    buildToolsVersion AndroidConfig.buildTools

    defaultConfig {
        minSdkVersion AndroidConfig.minSdk
        targetSdkVersion AndroidConfig.targetSdk
        versionCode AndroidConfig.versionCode
        versionName AndroidConfig.versionName
    }

    buildFeatures {
        viewBinding true
        compose true
    }

    buildTypes {
        release {
            consumerProguardFiles 'proguard-rules.pro'
        }
    }
    compileOptions {
        sourceCompatibility javaVersion
        targetCompatibility javaVersion
    }
    kotlinOptions {
        jvmTarget = jvmTargetVersion
    }

    composeOptions {
        kotlinCompilerExtensionVersion composeVersion
    }
}

dependencies {
    implementation EnvironmentConfig.kotlinStdLib
    implementation AndroidLibConfig.coroutinesCore
    implementation AndroidLibConfig.kotlinResult

    implementation AndroidLibConfig.koinCore
    implementation AndroidLibConfig.koinAndroidExt

    implementation AndroidLibConfig.retrofit
    implementation AndroidLibConfig.moshiConverter
    implementation AndroidLibConfig.moshi
    kapt AndroidLibConfig.moshiCodeGen

    implementation AndroidLibConfig.appCompat
    implementation AndroidLibConfig.viewmodel

    implementation AndroidLibConfig.coil
    implementation AndroidLibConfig.coilCompose

    testImplementation TestConfig.jUnit
    testImplementation TestConfig.mockk

    implementation project(ProjectConfig.utilityAndroid)
    implementation project(ProjectConfig.utilityKotlin)
    implementation project(ProjectConfig.coreAndroid)
    implementation project(ProjectConfig.navigation)
    implementation project(ProjectConfig.designSystem)

    implementation platform(AndroidLibConfig.composeBOM)
    implementation AndroidLibConfig.compose
    implementation AndroidLibConfig.composeFoundation
    implementation AndroidLibConfig.composeMaterial
    implementation AndroidLibConfig.composeTooling
    implementation AndroidLibConfig.composeActivity

    // UI Tests
    androidTestImplementation 'androidx.compose.ui:ui-test-junit4:1.3.0'
}
